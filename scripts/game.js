!function e(t,r,o){function n(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[a]={exports:{}};t[a][0].call(u.exports,function(e){var r=t[a][1][e];return n(r?r:e)},u,u.exports,e,t,r,o)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)n(o[a]);return n}({1:[function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=e("./states/play"),l=o(s),c=e("./states/over"),u=o(c),f=function(e){function t(){n(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,1280,720,Phaser.AUTO,"content",null));return e.state.add("play",l["default"],!1),e.state.add("over",u["default"],!1),e.state.start("play"),e}return a(t,e),t}(Phaser.Game);new f},{"./states/over":8,"./states/play":9}],2:[function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e){function t(e){var r=e.game,i=e.x,a=e.y,s=e.asset,l=e.initialVelocityY;o(this,t);var c=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,i,a,s));return c.game=r,c.game.physics.arcade.enable(c),c.body.collideWorldBounds=!0,c.body.bounce.setTo(1,1),c.initialVelocityY=l,c}return i(t,e),a(t,[{key:"start",value:function(){this.body.velocity.y=this.initialVelocityY}}]),t}(Phaser.Sprite);r["default"]=s},{}],3:[function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(e){function t(e){var r=e.game,i=e.x,a=e.y,s=e.asset;o(this,t);var l=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,i,a,s));return l.game.physics.arcade.enable(l),l.body.immovable=!0,l}return i(t,e),t}(Phaser.Sprite);r["default"]=a},{}],4:[function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=e("./brick"),c=o(l),u=function(e){function t(e){var r=e.game,o=e.brickTypes,a=e.brickProps;n(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return s.game=r,s.brickTypes=o,s.brickWidth=a.width,s.brickHeight=a.height,s.createBricks(),s}return a(t,e),s(t,[{key:"createBricks",value:function(){for(var e=0;e<this.brickTypes.length;e++)for(var t=0;t<this.game.width;t+=this.brickWidth)this.add(new c["default"]({game:this.game,x:t,y:(e+1)*this.brickHeight,asset:this.brickTypes[e]}))}}]),t}(Phaser.Group);r["default"]=u},{"./brick":3}],5:[function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(e){function t(e){var r=e.game,i=e.x,a=e.y,s=e.asset,l=e.scaleFactor;o(this,t);var c=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,i,a,s));return c.scale.setTo(l),c}return i(t,e),t}(Phaser.Sprite);r["default"]=a},{}],6:[function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=e("./heart"),c=o(l),u=function(e){function t(e){var r=e.game,o=e.font;n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return a.game=r,a.score=0,a.lives=3,a.scoreLabel="Score: ",a.scoreText=new Phaser.BitmapText(a.game,0,0,o,"Score: "+a.score,16),a.hearts=a.createHearts(),a.add(a.scoreText),a.add(a.hearts),a}return a(t,e),s(t,[{key:"createHearts",value:function(){for(var e=new Phaser.Group(this.game),t=this.game.width-32,r=0;r<this.lives;r++)e.add(new c["default"]({game:this.game,x:t,y:0,scaleFactor:.25,asset:"heart"})),t-=32;return e}},{key:"updateScore",value:function(){this.score+=10,this.scoreText.text=this.scoreLabel+this.score}},{key:"removeLife",value:function(){this.lives--,this.hearts.children[0].destroy()}},{key:"getLivesLeft",value:function(){return this.lives}}]),t}(Phaser.Group);r["default"]=u},{"./heart":5}],7:[function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(e){function t(e){var r=e.game,i=e.x,a=e.y,s=e.asset;o(this,t);var l=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,i,a,s));return l.game.physics.arcade.enable(l),l.body.collideWorldBounds=!0,l.body.immovable=!0,l}return i(t,e),t}(Phaser.Sprite);r["default"]=a},{}],8:[function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"create",value:function(){var e=this;this.gameOverTitle=new Phaser.BitmapText(this.game,this.game.world.centerX,this.game.world.centerY,"carrier_command","Game Over",32),this.gameOverTitle.anchor.setTo(.5,.5),this.restartTitle=new Phaser.BitmapText(this.game,this.game.world.centerX,this.game.world.centerY+32,"carrier_command","Try Again",16),this.restartTitle.anchor.setTo(.5,.5),this.restartTitle.inputEnabled=!0,this.restartTitle.events.onInputDown.add(function(){e.state.start("play")},this),this.gameOverPanel=this.add.group(),this.gameOverPanel.add(this.gameOverTitle),this.gameOverPanel.add(this.restartTitle)}}]),t}(Phaser.State);r["default"]=s},{}],9:[function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=e("../objects/ball"),c=o(l),u=e("../objects/paddle"),f=o(u),p=e("../objects/hud"),h=o(p),y=e("../objects/brickRows"),d=o(y),b=function(e){function t(){return n(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"preload",value:function(){this.game.load.image("ball","assets/ballGrey.png"),this.game.load.image("paddle","assets/paddleBlu.png"),this.game.load.image("blueBlock","assets/element_blue_square_glossy.png"),this.game.load.image("greenBlock","assets/element_green_square_glossy.png"),this.game.load.image("purpleBlock","assets/element_purple_cube_glossy.png"),this.game.load.image("redBlock","assets/element_red_square_glossy.png"),this.game.load.image("yellowBlock","assets/element_yellow_square_glossy.png"),this.game.load.image("greyBlock","assets/element_grey_square_glossy.png"),this.game.load.image("heart","assets/heart.png"),this.game.load.bitmapFont("carrier_command","assets/fonts/carrier_command.png","assets/fonts/carrier_command.xml")}},{key:"initializeProps",value:function(){var e={},t={x:this.game.world.centerX,y:this.game.world.centerY},r={width:32,height:32,paddingTop:32},o=["redBlock","yellowBlock","greenBlock","blueBlock","purpleBlock"],n=104,i=24,a=200,s={width:n,height:i,initialX:t.x-n/2,initialY:t.y+a,segments:8,segmentAngle:15},l={initialX:t.x,initialY:t.y,initialVelocityX:0,initialVelocityY:500},c={width:128,height:128};return e.center=t,e.brickProps=r,e.brickTypes=o,e.paddleProps=s,e.ballProps=l,e.heartProps=c,e.brickCount=this.game.width/r.width*o.length,e}},{key:"create",value:function(){this.props=this.initializeProps(),this.game.physics.startSystem(Phaser.Physics.ARCADE),this.ball=new c["default"]({game:this.game,x:this.props.ballProps.initialX,y:this.props.ballProps.initialY,asset:"ball",initialVelocityY:this.props.ballProps.initialVelocityY}),this.paddle=new f["default"]({game:this.game,x:this.props.paddleProps.initialX,y:this.props.paddleProps.initialY,asset:"paddle"}),this.hud=new h["default"]({game:this.game,font:"carrier_command"}),this.brickRows=new d["default"]({game:this.game,brickTypes:this.props.brickTypes,brickProps:this.props.brickProps}),this.game.add.existing(this.ball),this.game.add.existing(this.paddle),this.game.add.existing(this.hud),this.game.add.existing(this.brickRows),this.cursors=this.game.input.keyboard.createCursorKeys(),this.ball.start()}},{key:"update",value:function(){this.game.physics.arcade.collide(this.ball,this.brickRows,this.collideWithBrick,null,this),this.game.physics.arcade.overlap(this.ball,this.paddle,this.collideWithPaddle,null,this),this.paddle.body.velocity.x=this.props.ballProps.initialVelocityX;var e=this.props.ballProps.initialVelocityY;this.cursors.left.isDown?this.paddle.body.velocity.x=-e:this.cursors.right.isDown&&(this.paddle.body.velocity.x=e),this.ball.body.blocked.down&&(this.hud.removeLife(),0===this.hud.getLivesLeft()&&this.state.start("over"))}},{key:"collideWithPaddle",value:function(e,t){var r=this.props,o=r.paddleProps,n=r.ballProps,i=o.width/o.segments,a=Math.floor((e.x-t.x)/i);a>o.segments-1?a=o.segments-1:a<0&&(a=0),a=-(o.segments/2)+a;var s=-90+a*o.segmentAngle;this.game.physics.arcade.velocityFromAngle(s,n.initialVelocityY,this.ball.body.velocity)}},{key:"collideWithBrick",value:function(e,t){this.hud.updateScore(),t.kill()}}]),t}(Phaser.State);r["default"]=b},{"../objects/ball":2,"../objects/brickRows":4,"../objects/hud":6,"../objects/paddle":7}]},{},[1]);